(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{22:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var c=n(1),o=n(17),r=n.n(o),a=n(8),u=n(3),s=(n(22),n(0)),i=function(e){return Object(s.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(s.jsxs)("div",{children:[Object(s.jsxs)("div",{children:["name:  ",Object(s.jsx)("input",{onChange:e.handleNameInput,value:e.newName,type:"text"})]}),Object(s.jsxs)("div",{children:["number: ",Object(s.jsx)("input",{onChange:e.handlePhoneInput,value:e.newNumber,type:"text"})]})]}),Object(s.jsx)("div",{children:Object(s.jsx)("button",{type:"submit",children:"add"})})]})},l=function(e){var t=e.book,n=e.deleteEntry;return console.log("book: ",t),Object(s.jsx)("div",{children:t.map((function(e){return Object(s.jsxs)("div",{children:[e.name,": ",e.number," ",Object(s.jsx)("button",{onClick:function(){return window.confirm("Are you sure you would like to delete this entry?")?n(e.id):null},children:"Delete"})," "]},e.id)}))})},d=function(e){var t=e.message,n=e.status,c={wrapperStyles:{display:"flex",width:"90vw",height:"15vh",margin:"auto",padding:"1em"},successStyles:{fontSize:"2em",color:"green",margin:"auto"},failureStyles:{fontSize:"2em",color:"red",margin:"auto"}};return Object(s.jsx)("div",{className:"notification-wrapper",style:c.wrapperStyles,children:Object(s.jsx)("div",{className:"notification-body",style:"success"===n?c.successStyles:c.failureStyles,children:t})})},j=function(e){return Object(s.jsxs)("div",{children:["Show entries: ",Object(s.jsx)("input",{onChange:e.handleSearchInput})]})},b=n(4),h=n.n(b),f=(n(42),"/api/persons"),p=function(){var e=h.a.get(f).then((function(e){return e.data}));return console.log("read all: ".concat(e)),e},m=function(e){return h.a.post(f,e).then((function(e){return e.data}))},O=function(e){return h.a.delete("".concat(f,"/").concat(e)).catch((function(e){return console.log("there was an error: ",e.message)})),console.log("entry deleted")},g=function(e,t){console.log("update entry: ",t);var n=h.a.put("".concat(f,"/").concat(e),t);return console.log("updated: ".concat(n)),n.then((function(e){return e.data}))};var v=function(){var e=Object(c.useState)([]),t=Object(u.a)(e,2),n=t[0],o=t[1],r=Object(c.useState)(""),b=Object(u.a)(r,2),h=b[0],f=b[1],v=Object(c.useState)(""),x=Object(u.a)(v,2),y=x[0],w=x[1],S=Object(c.useState)(!1),k=Object(u.a)(S,2),N=k[0],E=k[1],I=Object(c.useState)(null),C=Object(u.a)(I,2),T=C[0],A=C[1],P=Object(c.useState)(null),z=Object(u.a)(P,2),D=z[0],J=z[1];Object(c.useEffect)((function(){p().then((function(e){o(e),console.log(e)}))}),[]);var U=function(e,t){A(e),J(t),setTimeout((function(){A(null),J(null)}),2e3)};return Object(s.jsxs)("div",{className:"App",children:[Object(s.jsx)("h2",{children:"Phonebook"}),Object(s.jsx)(d,{message:T,status:D}),Object(s.jsx)(j,{handleSearchInput:function(e){var t=e.target.value.toUpperCase(),c=n.filter((function(e){return-1!==e.name.toUpperCase().indexOf(t)}));E(""!==t&&c)}}),Object(s.jsx)("h2",{children:"Add new"}),Object(s.jsx)(i,{handleSubmit:function(e){e.preventDefault();var t={name:h,number:y},c=n.find((function(e){return e.name===h}));c?window.confirm("The entry for ".concat(h," already exists would you like to update the number?"))?g(c.id,t).then((function(e){var t=n.map((function(e){return e.name===h?Object(a.a)(Object(a.a)({},e),{},{number:y}):e}));console.log("updated clone: ",t),o(t),U("Entry updated","success")})).catch((function(e){console.log("There was an error: ",e.message),A("This entry is no longer on the server","failure")})):window.alert("Number not updated"):m(t).then((function(e){o(n.concat(e)),console.log("updated persons",n),U("Entry created","success")})).catch((function(e){return console.log(e)})),f(""),w("")},handleNameInput:function(e){console.log(h),f(e.target.value)},handlePhoneInput:function(e){console.log(y),w(e.target.value)},newName:h,newNumber:y}),Object(s.jsx)("h2",{children:"Entries"}),Object(s.jsx)(l,{book:N||n,deleteEntry:function(e){O(e),A("Entry deleted","failure"),o(n.filter((function(t){return t.id!==e})))}})]})};r.a.render(Object(s.jsx)(v,{}),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.0e33e84e.chunk.js.map