(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{22:function(e,n,t){},43:function(e,n,t){"use strict";t.r(n);var o=t(1),r=t(17),c=t.n(r),a=t(8),u=t(3),s=(t(22),t(0)),i=function(e){return Object(s.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(s.jsxs)("div",{children:[Object(s.jsxs)("div",{children:["name:  ",Object(s.jsx)("input",{onChange:e.handleNameInput,value:e.newName,type:"text"})]}),Object(s.jsxs)("div",{children:["number: ",Object(s.jsx)("input",{onChange:e.handlePhoneInput,value:e.newNumber,type:"text"})]})]}),Object(s.jsx)("div",{children:Object(s.jsx)("button",{type:"submit",children:"add"})})]})},l=function(e){var n=e.book,t=e.deleteEntry;return console.log("book: ",n),Object(s.jsx)("div",{children:n.map((function(e){return Object(s.jsxs)("div",{children:[e.name,": ",e.number," ",Object(s.jsx)("button",{onClick:function(){return window.confirm("Are you sure you would like to delete this entry?")?t(e.id):null},children:"Delete"})," "]},e.id)}))})},d=function(e){var n=e.message,t=e.status,o={wrapperStyles:{display:"flex",width:"90vw",height:"15vh",margin:"auto",padding:"1em"},successStyles:{fontSize:"2em",color:"green",margin:"auto"},failureStyles:{fontSize:"2em",color:"red",margin:"auto"}};return Object(s.jsx)("div",{className:"notification-wrapper",style:o.wrapperStyles,children:Object(s.jsx)("div",{className:"notification-body",style:"success"===t?o.successStyles:o.failureStyles,children:n})})},j=function(e){return Object(s.jsxs)("div",{children:["Show entries: ",Object(s.jsx)("input",{onChange:e.handleSearchInput})]})},b=t(4),h=t.n(b),f=(t(42),"/api/persons"),p=function(){return h.a.get(f).then((function(e){return e.data}))},m=function(e){return h.a.post(f,e).then((function(e){return e}))},O=function(e){return h.a.delete("".concat(f,"/").concat(e)).catch((function(e){return console.log("there was an error: ",e.message)})),console.log("entry deleted")},g=function(e,n){console.log("update entry: ",n);var t=h.a.put("".concat(f,"/").concat(e),n);return console.log("updated: ".concat(t)),t.then((function(e){return e.data}))};var v=function(){var e=Object(o.useState)([]),n=Object(u.a)(e,2),t=n[0],r=n[1],c=Object(o.useState)(""),b=Object(u.a)(c,2),h=b[0],f=b[1],v=Object(o.useState)(""),x=Object(u.a)(v,2),y=x[0],w=x[1],S=Object(o.useState)(!1),k=Object(u.a)(S,2),N=k[0],E=k[1],I=Object(o.useState)(null),C=Object(u.a)(I,2),A=C[0],T=C[1],P=Object(o.useState)(null),z=Object(u.a)(P,2),D=z[0],J=z[1];Object(o.useEffect)((function(){p().then((function(e){r(e),console.log("initial persons: ",e)}))}),[]);var U=function(e,n){T(e),J(n),setTimeout((function(){T(null),J(null)}),2e3)};return Object(s.jsxs)("div",{className:"App",children:[Object(s.jsx)("h2",{children:"Phonebook"}),Object(s.jsx)(d,{message:A,status:D}),Object(s.jsx)(j,{handleSearchInput:function(e){var n=e.target.value.toUpperCase(),o=t.filter((function(e){return-1!==e.name.toUpperCase().indexOf(n)}));E(""!==n&&o)}}),Object(s.jsx)("h2",{children:"Add new"}),Object(s.jsx)(i,{handleSubmit:function(e){e.preventDefault();var n={name:h,number:y},o=t.find((function(e){return e.name===h}));o?window.confirm("The entry for ".concat(h," already exists would you like to update the number?"))?g(o.id,n).then((function(e){var n=t.map((function(e){return e.name===h?Object(a.a)(Object(a.a)({},e),{},{number:y}):e}));console.log("updated clone: ",n),r(n),U("Entry updated","success")})).catch((function(e){console.log("There was an error: ",e.message),T("This entry is no longer on the server","failure")})):window.alert("Number not updated"):m(n).then((function(e){console.log("new person: ",n),r(t.concat(n)),console.log("Added entry",e),U("Entry created","success")})).catch((function(e){console.log("error data",e.response.data.error),U(e.response.data.error,"failure")})),f(""),w("")},handleNameInput:function(e){console.log(h),f(e.target.value)},handlePhoneInput:function(e){console.log(y),w(e.target.value)},newName:h,newNumber:y}),Object(s.jsx)("h2",{children:"Entries"}),Object(s.jsx)(l,{book:N||t,deleteEntry:function(e){O(e),U("Entry deleted","failure"),r(t.filter((function(n){return n.id!==e})))}})]})};c.a.render(Object(s.jsx)(v,{}),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.e3f79410.chunk.js.map